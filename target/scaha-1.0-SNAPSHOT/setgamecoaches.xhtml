<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui" 
      xmlns:c="http://java.sun.com/jsp/jstl/core">

<f:metadata>
<f:event type="preRenderView" listener="#{profileBean.verifyUserLogin()}" />
</f:metadata>

<ui:composition template="/WEB-INF/templates/layoutadmin.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:b="http://bootsfaces.net/ui">
	
<ui:define name="content">
<b:container>
<script>
	function printscoresheet(gameid){
		window.open("printscoresheet.xhtml?id=" + gameid);
	}
	
	function printmitescoresheet(gameid){
		window.open("printscoresheetformites.xhtml?id=" + gameid);
	}

</script>
	
	<b:row>
		<b:column>
			<b:form id="form">
			
			<b:panel id="panel" collapsible="false" look="primary">
				<f:facet name="heading">
					Set Coaches for SCAHA Game Number:#{gamesheetBean.livegame.idgame} #{gamesheetBean.livegame.awayteamname} vs. #{gamesheetBean.livegame.hometeamname} on #{gamesheetBean.livegame.startdate} at #{gamesheetBean.livegame.starttime} at #{gamesheetBean.livegame.venueshortname}
				</f:facet>
				<b:panelGrid colSpans="12" id="coachesrosterlist">
					<p:graphicImage width="60" height="60" id="homelogo" value="#{scahaBean.getClubLogoByParmId()}"  >
						<f:param name="target" value="#{gamesheetBean.getTeamclubid()}" />
					</p:graphicImage>
					<b:messages  />
					<b:dataTable 
						id="roster" 
						var="spot"
						value="#{gamesheetBean.getRosterofCoachesforSelection()}" 
						paginated="false" 
						border="true"
						searching="false"
						selection="#{gamesheetBean.selectedhomerosterspot}"
		 				selectionMode="single" 
		 				
		 				>
		 				<b:dataTableColumn styleClass="mtrxColumn">
				            <f:facet name="header">
						    	<h:outputText value="Role" />    
						    </f:facet>
						    <h:outputText value="#{spot.jerseynumber}" />
				        </b:dataTableColumn>
				        <b:dataTableColumn styleClass="mtrxColumn">
				            <f:facet name="header">
						       	Name
						    </f:facet>
						    <h:outputText value="#{spot.lastname}, #{spot.firstname}" />
				        </b:dataTableColumn>
				        <b:dataTableColumn styleClass="mtrxColumn">
				            <f:facet name="header">
						       	Add to Scoresheet
						    </f:facet>
						    <!-- <b:selectBooleanCheckbox value="#{spot.lgpid}" caption=" " render="@form" update="@form">
						    	<f:ajax event="change" listener="#{gamesheetBean.setCoachforPrint(spot)}" />
			            		<f:param name="blockui.disabled" value="true"/>
			            	</b:selectBooleanCheckbox>
			            	 -->
			            	<b:commandButton iconAwesome="remove"
					                       action="#{gamesheetBean.setCoachforPrint(spot, false)}" look="danger" rendered="#{spot.lgpid}">
						      	<f:ajax execute="@this" render="@form" update="@form"/>
						    </b:commandButton>
						    <b:commandButton iconAwesome="plus"
						                       action="#{gamesheetBean.setCoachforPrint(spot,true)}" look="success" rendered="#{not spot.lgpid}">
						       <f:ajax execute="@this" render="@form" update="@form"/>
						    </b:commandButton>
					    
				        </b:dataTableColumn>
				    </b:dataTable>						
				</b:panelGrid>
				<b:panelGrid colSpans="2,2,2,2,2,2" id="panelgrid">
					<h:outputText value=" " />
					<h:outputText value=" " />
					<h:outputText value=" " />
					<b:commandButton value="Set as Default" 
				                       actionListener="#{gamesheetBean.SetasDefault()}" look="info"
				                       large-screen="full-width"
    									medium-screen="full-width"
    									small-screen="full-width"
    									tiny-screen="full-width">
    					<f:ajax execute="@form" render="@form" />
    				</b:commandButton>
					<b:commandButton value="Close" 
				                       actionListener="#{managerBean.BacktoManagerPortal()}" look="info"
				                       large-screen="full-width"
    									medium-screen="full-width"
    									small-screen="full-width"
    									tiny-screen="full-width"/>
    				<b:commandButton value="Print Scoresheet" id="submittournamentgame"
				                       look="success"
				                       large-screen="full-width"
				    					medium-screen="full-width"
				    					small-screen="full-width"
				    					tiny-screen="full-width"
				    					onclick="javascript: printscoresheet('#{gamesheetBean.getLivegameid()}')"
				    					>
				       <f:ajax execute="@form" render="@form" />
				    </b:commandButton>
				    
				</b:panelGrid>
				
			</b:panel>
			</b:form>
		</b:column>
	</b:row>
</b:container>
</ui:define>
</ui:composition>
</html>